<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Deposit Invoice [INVOICE_ID] - Tripoint Diagnostics Ltd</title>
    <style>
        @page { size: A4; margin: 20mm; }
        * { box-sizing: border-box; }
        body { margin: 0; padding: 20px; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Arial, sans-serif; font-size: 14px; line-height: 1.5; color: #374151; background: #fff; }
        .invoice { max-width: 210mm; margin: 0 auto; }
        .header { display: table; width: 100%; margin-bottom: 24px; padding-bottom: 16px; border-bottom: 2px solid #0284c7; }
        .header-logo { display: table-cell; vertical-align: middle; width: 1%; }
        .header-logo img { max-height: 40px; width: auto; display: block; }
        .header-meta { display: table-cell; vertical-align: middle; text-align: right; }
        .invoice-title { font-size: 24px; font-weight: 700; color: #111827; margin: 0 0 4px 0; }
        .invoice-subtitle { font-size: 13px; color: #6b7280; margin: 0; }
        .company-block { margin-bottom: 24px; font-size: 12px; color: #6b7280; line-height: 1.6; }
        .company-block strong { color: #374151; }
        .meta-grid { display: table; width: 100%; margin-bottom: 24px; }
        .meta-left, .meta-right { display: table-cell; width: 50%; vertical-align: top; }
        .meta-right { text-align: right; }
        .meta-label { font-size: 11px; text-transform: uppercase; letter-spacing: 0.05em; color: #6b7280; margin-bottom: 4px; }
        .meta-value { font-size: 14px; font-weight: 600; color: #111827; }
        .status-badge { display: inline-block; padding: 4px 10px; border-radius: 4px; font-size: 12px; font-weight: 600; }
        .status-unpaid { background: #fef3c7; color: #92400e; }
        .status-paid { background: #d1fae5; color: #065f46; }
        .status-partial { background: #e0e7ff; color: #3730a3; }
        .address-block { margin-bottom: 20px; }
        .address-label { font-size: 11px; text-transform: uppercase; letter-spacing: 0.05em; color: #6b7280; margin-bottom: 6px; }
        .address-content { font-size: 13px; color: #374151; white-space: pre-line; }
        .vehicle-block { margin-bottom: 20px; padding: 12px 16px; background: #f9fafb; border-radius: 6px; border: 1px solid #e5e7eb; font-size: 13px; }
        .vehicle-block strong { color: #111827; }
        .line-items { width: 100%; border-collapse: collapse; margin-bottom: 24px; page-break-inside: avoid; }
        .line-items th { text-align: left; padding: 10px 12px; font-size: 11px; text-transform: uppercase; letter-spacing: 0.05em; color: #6b7280; background: #f9fafb; border-bottom: 2px solid #e5e7eb; }
        .line-items td { padding: 10px 12px; border-bottom: 1px solid #e5e7eb; font-size: 13px; }
        .line-items tr { page-break-inside: avoid; }
        .line-items .amount { text-align: right; }
        .totals-box { margin-left: auto; width: 280px; border: 1px solid #e5e7eb; border-radius: 6px; overflow: hidden; }
        .totals-box tr { border-bottom: 1px solid #e5e7eb; }
        .totals-box tr:last-child { border-bottom: none; background: #0284c7; color: #fff; font-weight: 700; }
        .totals-box td { padding: 10px 16px; font-size: 13px; }
        .totals-box .label { color: #6b7280; }
        .totals-box .value { text-align: right; font-weight: 600; }
        .totals-box tr:last-child .label { color: rgba(255,255,255,0.9); }
        .totals-box tr:last-child .value { color: #fff; }
        .payment-box { margin-top: 24px; padding: 20px; background: #f0f9ff; border: 1px solid #bae6fd; border-radius: 6px; }
        .payment-box h3 { margin: 0 0 12px 0; font-size: 14px; color: #0369a1; }
        .payment-box p { margin: 0 0 8px 0; font-size: 13px; color: #374151; }
        .pay-btn { display: inline-block; margin-top: 12px; padding: 10px 24px; background: #0284c7; color: #fff !important; text-decoration: none; border-radius: 6px; font-weight: 600; font-size: 14px; }
        .blurb { margin-bottom: 20px; padding: 12px 16px; background: #f9fafb; border-left: 4px solid #0284c7; font-size: 13px; color: #374151; }
        .notes-block { margin-top: 24px; font-size: 12px; color: #6b7280; }
        .footer { margin-top: 32px; padding-top: 20px; border-top: 1px solid #e5e7eb; font-size: 11px; color: #6b7280; text-align: center; }
        .footer a { color: #0284c7; text-decoration: none; }
    </style>
</head>
<body>
    <div class="invoice">
        <!-- Header -->
        <div class="header">
            <div class="header-logo">
                <img src="[LOGO_URL]" alt="Tripoint Diagnostics" style="max-height:40px;">
            </div>
            <div class="header-meta">
                <h1 class="invoice-title">Deposit Invoice</h1>
                <p class="invoice-subtitle">Secures your booking slot. Deducted from final invoice.</p>
            </div>
        </div>

        <!-- Company details -->
        <div class="company-block">
            <strong>Tripoint Diagnostics Ltd</strong><br>
            Company No. 17038307<br>
            Registered office: 476 Sidcup Road, London, United Kingdom, SE9 4HA<br>
            [VAT_NUMBER]
            Website: <a href="https://tripointdiagnostics.co.uk">tripointdiagnostics.co.uk</a><br>
            Email: contact@tripointdiagnostics.co.uk | Phone: <a href="tel:+442080586095">020 8058 6095</a><br>
            WhatsApp: <a href="https://wa.me/message/NROKKGS6QK54G1">Message us</a> | <a href="https://share.google/2l57MP0ObUcOx7Sez">Google Business</a>
        </div>

        <!-- Invoice meta -->
        <div class="meta-grid">
            <div class="meta-left">
                <div class="meta-label">Invoice number</div>
                <div class="meta-value">[INVOICE_ID]</div>
                <div style="margin-top:12px;">
                    <div class="meta-label">Invoice date</div>
                    <div class="meta-value">[INVOICE_DATE]</div>
                </div>
                <div style="margin-top:12px;">
                    <div class="meta-label">Due date</div>
                    <div class="meta-value">[DUE_DATE]</div>
                </div>
                <div style="margin-top:12px;">
                    <div class="meta-label">Payment terms</div>
                    <div class="meta-value">[PAYMENT_TERMS]</div>
                </div>
            </div>
            <div class="meta-right">
                <div class="meta-label">Status</div>
                <div class="meta-value"><span class="status-badge status-[STATUS_CLASS]">[STATUS]</span></div>
            </div>
        </div>

        <!-- Blurb -->
        <div class="blurb">
            This deposit secures your diagnostic booking. It will be deducted from your final service invoice upon completion. Balance due after service completion.
        </div>

        <!-- Bill to / Service address -->
        <table width="100%" cellpadding="0" cellspacing="0" border="0" style="margin-bottom:20px;">
            <tr>
                <td width="50%" valign="top" style="padding-right:24px;">
                    <div class="address-block">
                        <div class="address-label">Bill to</div>
                        <div class="address-content">[CLIENT_FULL_NAME]
[CLIENT_EMAIL]
[CLIENT_PHONE]

[BILL_TO_ADDRESS]</div>
                    </div>
                </td>
                <td width="50%" valign="top">
                    <div class="address-block">
                        <div class="address-label">Service address</div>
                        <div class="address-content">[SERVICE_ADDRESS]</div>
                    </div>
                </td>
            </tr>
        </table>

        <!-- Vehicle / Job -->
        <div class="vehicle-block">
            <strong>Vehicle:</strong> [VEHICLE_MAKE_MODEL] ([VEHICLE_REG])<span style="margin-left:16px;"><strong>Odometer:</strong> [ODOMETER]</span><span style="margin-left:16px;"><strong>Job ID:</strong> [JOB_ID]</span><span style="margin-left:16px;"><strong>PO:</strong> [PO_NUMBER]</span><br>
            <strong>Technician:</strong> [TECH_NAME]<br>
            <strong>Deposit reason:</strong> [DEPOSIT_REASON]<br>
            <strong>Deposit amount:</strong> [DEPOSIT_AMOUNT]
        </div>

        <!-- Line items -->
        <table class="line-items">
            <thead>
                <tr>
                    <th>Description</th>
                    <th style="text-align:center;">Qty</th>
                    <th style="text-align:right;">Rate</th>
                    <th style="text-align:right;">Amount</th>
                </tr>
            </thead>
            <tbody>
[LINE_ITEMS_HTML]
            </tbody>
        </table>

        <!-- Totals -->
        <table class="totals-box">
            <tr><td class="label">Subtotal</td><td class="value">[SUBTOTAL]</td></tr>
            <tr><td class="label">Discount</td><td class="value">[DISCOUNT]</td></tr>
            <tr><td class="label">VAT ([VAT_RATE])</td><td class="value">[VAT_AMOUNT]</td></tr>
            <tr><td class="label">Total</td><td class="value">[TOTAL]</td></tr>
            <tr><td class="label">Amount paid</td><td class="value">[AMOUNT_PAID]</td></tr>
            <tr><td class="label">Balance due</td><td class="value">[BALANCE_DUE]</td></tr>
        </table>

        <!-- Payment -->
        <div class="payment-box">
            <h3>Payment</h3>
            <p>[PAYMENT_METHODS]</p>
            [BANK_DETAILS]
            [PAYMENT_LINK]
        </div>

        <!-- Notes -->
        <div class="notes-block">
            [NOTES]
        </div>

        [FOOTER_EXTRA]

        <!-- Footer -->
        <div class="footer">
            <a href="[CANCELLATION_URL]">Cancellation &amp; deposit policy</a> &middot;
            <a href="[TERMS_URL]">Terms of service</a> &middot;
            <a href="[PRIVACY_URL]">Privacy policy</a> &middot;
            <a href="[DISCLAIMER_URL]">Disclaimer</a><br>
            Thank you for your business. Questions? Reply to this email or contact us at contact@tripointdiagnostics.co.uk<br>
            &copy; [CURRENT_YEAR] Tripoint Diagnostics Ltd. All rights reserved.
        </div>
    </div>
</body>
</html>
